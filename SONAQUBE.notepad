{"bgColorIndex":0,"textColorIndex":1,"note":"INSTALLATION\n\nPrerequisite\n\nAWS Acccount.\nCreate Ubuntu EC2 T2.medium Instance with 4GB RAM.\nCreate Security Group and open Required ports.\n9000 ..etc\nAttach Security Group to EC2 Instance.\n***Install java openJDK 1.8+ for SonarQube version 7.8\n\n\n1. Create sonar user to manage the SonarQube server\n\n#As a good security practice, SonarQuber Server is not advised to run sonar service as a root user, \n# create a new user called sonar and grant sudo access to manage sonar services as follows\n\nsudo useradd sonar\n\n# GranT sudo access to sonar user\nsudo echo \"sonar ALL=(ALL) NOPASSWD:ALL\" | sudo tee \/etc\/sudoers.d\/sonar\n\n\n# set hostname for the sonarqube server\nsudo hostnamectl set-hostname sonar \n\n\/bin\/bash [for ubuntu]\n\nsudo su - sonar\n\n\n1b. Assign password to sonar user\n\nsudo passwd sonar\n\n\n2. Enable PasswordAuthentication in the server\n\nsudo sed -i \"\/^[^#]*PasswordAuthentication[[:space:]]no\/c\\PasswordAuthentication yes\" \/etc\/ssh\/sshd_config\nsudo service sshd restart\n\n\n3. Install Java JDK 1.8+ required for sonarqube to start\n\ncd \/opt\nsudo yum -y install unzip wget git\nsudo yum install  java-11-openjdk-devel\n\n\n4. Download and extract the SonarqQube Server software.\n\nsudo wget https:\/\/binaries.sonarsource.com\/Distribution\/sonarqube\/sonarqube-10.2.1.78527.zip\n\nsudo unzip sonarqube-10.2.1.78527.zip\nsudo rm -rf sonarqube-10.2.1.78527.zip\nsudo mv sonarqube-10.2.1.78527 sonarqube\n\n\n5. Grant file permissions for sonar user to start and manage sonarQube\n\nsudo chown -R sonar:sonar \/opt\/sonarqube\/\nsudo chmod -R 775 \/opt\/sonarqube\/\n\n\n6. start sonarQube server\n\nsh \/opt\/sonarqube\/bin\/linux-x86-64\/sonar.sh start  \nsh \/opt\/sonarqube\/bin\/linux-x86-64\/sonar.sh status\n\n\n============================\nto start sonar subsequently \n============================\n\n\nsudo su - sonar\ncd \/opt\nsh \/opt\/sonarqube\/bin\/linux-x86-64\/sonar.sh start  \nsh \/opt\/sonarqube\/bin\/linux-x86-64\/sonar.sh status\n\n\n\n\n7. Ensure that SonarQube is running and Access sonarQube on the browser\n\nsonarqube default port is = 9000\n\nget the sonarqube public ip address\n\npublicIP:9000\n\ncurl -v 15.222.8.29:9000\n54.236.232.85:9000\ndefault USERNAME: admin\ndefault password: admin\n\n\n\n\nSonarQube Reports depends on:\n  1. Rules  \n  2. Quality profile\n  3. Quality Gates \n\n\n\nmaven script \n\n  stage('SonarQube Analysis') {\n    script{\n       withSonarQubeEnv() {\n      sh \"mvn clean verify sonar:sonar -Dsonar.projectKey=mavenwebapp -Dsonar.projectName='mavenwebapp'\"\n    }\n  }\n}\n\n"}