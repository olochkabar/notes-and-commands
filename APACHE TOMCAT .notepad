{"bgColorIndex":0,"textColorIndex":1,"note":"APACHE TOMCAT INSTALLATION\n\n\nPrerequisite\n\nAWS Acccount.\nCreate Redhat EC2 T2.micro Instance.\nCreate Security Group and open Tomcat ports or Required ports.\n8080 ..etc\nAttach Security Group to EC2 Instance.\nInstall java openJDK 1.8+\nInstall Java JDK 1.8+\n\n\n\n# change hostname to tomcat\nsudo hostnamectl set-hostname tomcat\nsudo su - ec2-user\ncd \/opt \n\n\n# install Java JDK 1.8+ as a pre-requisit for tomcat to run.\nsudo yum install git wget -y\nsudo yum install java-1.8.0-openjdk-devel -y\n\n\n# install wget unzip packages.\nsudo yum install wget unzip -y\nInstall Tomcat version 9.0.80\n\nDownload and extract the tomcat server\n\nsudo wget  https:\/\/dlcdn.apache.org\/tomcat\/tomcat-9\/v9.0.80\/bin\/apache-tomcat-9.0.80.zip\nsudo unzip apache-tomcat-9.0.80.zip\nsudo rm -rf apache-tomcat-9.0.80.zip\n\n\n### rename tomcat for good naming convention\nsudo mv apache-tomcat-9.0.80.zip  \n\n\n### assign executable permissions to the tomcat home directory\nsudo chmod 777 -R \/opt\/tomcat9\nsudo chown ec2-user -R \/opt\/tomcat9\n\n\n### start tomcat\nsh \/opt\/tomcat9\/bin\/startup.sh\n\n\n# create a soft link to start and stop tomcat\n# This will enable us to manage tomcat as a service\n\n\nsudo ln -s \/opt\/tomcat9\/bin\/startup.sh \/usr\/bin\/starttomcat\nsudo ln -s \/opt\/tomcat9\/bin\/shutdown.sh \/usr\/bin\/stoptomcat\nstarttomcat\nsudo su - ec2-user\n\n\n\nVerify if the tomcat service\/process is running:\n    ps -ef | grep tomcat  \n    telnet localhost 8080 \n    curl -v localhost:8080 \n    curl -v 34.219.51.216:8080\n    curl -v 34.219.51.216:8177\n\n\nTicket:\n  Change the default portNumber for tomcat from 8080 to 8177 \n\n  vim \/opt\/tomcat9\/conf\/server.xml  \n      <Connector port=\"8177\" protocol=\"HTTP\/1.1\"\n               connectionTimeout=\"20000\"\n               redirectPort=\"8443\"\n               maxParameterCount=\"1000\"\n               \/>\n\n\n\n\n\nconfigure tomcat server:\n 1.  Enable external tomcat mgt access\n     vim \/opt\/tomcat9\/webapps\/manager\/META-INF\/context.xml\n\nfrom:\n  <Valve className=\"org.apache.catalina.valves.RemoteAddrValve\"\n          allow=\"127\\.\\d+\\.\\d+\\.\\d+|::1|0:0:0:0:0:0:0:1\" \/\nto:\n<!--\n  <Valve className=\"org.apache.catalina.valves.RemoteAddrValve\"\n          allow=\"127\\.\\d+\\.\\d+\\.\\d+|::1|0:0:0:0:0:0:0:1\" \/\n-->\n\n2. create tomcat users with access roles  :\nvim \/opt\/tomcat9\/conf\/tomcat-users.xml  =# to add user\nvi \/opt\/tomcat9\/conf\/tomcat-users.xml\n\n<user username=\"landmark\" password=\"admin123\" roles=\"manager-gui,admin-gui,manager-script\"\/>\n<user username=\"simon\" password=\"admin123\" roles=\"admin-gui\"\/> \n\nhttps:\/\/github.com\/LandmakTechnology\/package-management\/blob\/master\/Tomcat-installation\/install-tomcat.sh\n\n\nhttp:\/\/34.219.51.216:8177\/maven-web-app\/\n\n\n\n\nwebapps Directory:\n   git clone https:\/\/github.com\/LandmakTechnology\/maven-web-application\n\n  scp -i c32.pem  target\/*war ec2-user@34.219.51.216:\/opt\/tomcat9\/webapps\/app.war    \n  scp target\/*war ec2-user@34.219.51.216:\/opt\/tomcat9\/webapps\/  \n\nconfigure password authentication:\n  1. sudo vi \/etc\/ssh\/sshd_config \n       change password authentication no to yes   \n  2. sudo sustemctl restart sshd   \n  3. assign password \n     sudo passwd username  \n\n\n\n\n\nPerforming hotfixes \n    vi \/opt\/tomcat9\/webapps\/app\/jsps\/home.jsp\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"}